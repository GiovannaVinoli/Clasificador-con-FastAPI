<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Clasificador de Reclamos</title>
</head>
<body>
  <h1>Clasificador de Reclamos</h1>

  <!-- <textarea id="entrada" rows="4" cols="50" placeholder="Escrib√≠ tu reclamo aqu√≠..."></textarea><br> -->
<textarea id="entrada" rows="4" cols="50" placeholder="Escrib√≠ tu reclamo aqu√≠..." style="
  width: 100%;
  max-width: 600px;
  height: 120px;
  padding: 12px 16px;
  font-size: 16px;
  border-radius: 10px;
  border: 2px solid #ccc;
  font-family: 'Segoe UI', sans-serif;
  background-color: #fdfdfd;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
  transition: border-color 0.3s ease;
">
</textarea>
<br>


<!--<button onclick="clasificar()">Clasificar</button>-->

  <button onclick="clasificar()" id="boton" style="
      background-color: #124d75;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 16px;
      font-family: 'Segoe UI', sans-serif;
      cursor: pointer;
      transition: background-color 0.3s ease;
    ">
       Clasificar
  </button>

  
  <div id="cartel" style="margin-top: 20px; display: none; border: 2px solid #333; padding: 10px; border-radius: 8px; font-size: 18px;">
</div>


  <script>
    async function clasificar() {
    const texto = document.getElementById("entrada").value;

    const respuesta = await fetch("/clasificar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ textos: [texto] })
    });

    const data = await respuesta.json();
    const cartel = document.getElementById("cartel");

    if (data && data.resultados && data.resultados[0]) {
      const categoria = data.resultados[0].clasificado_en;

      cartel.innerHTML = `<strong>üìå El reclamo fue clasificado como:</strong><br><span style="font-size:24px;">üîπ ${categoria}</span>`;
      cartel.style.display = "block";
       
      if (categoria.includes("maestranza")) {
        cartel.style.borderColor = "#2ecc71";
      } else if (categoria.includes("soporte")) {
        cartel.style.borderColor = "#3498db";
      } else {
        cartel.style.borderColor = "#e67e22";
      }

    } else {
      cartel.innerHTML = "‚ö†Ô∏è No se pudo clasificar el reclamo.";
      cartel.style.display = "block";
      cartel.style.borderColor = "#e74c3c";
    }
  }

</script>

</body>
</html>
